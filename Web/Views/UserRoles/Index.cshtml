@model List<Web.Models.UserAndRoles>


@{
    ViewBag.Title = "User List";
}

<h2>User List</h2>
<table>
    <thead>
    <tr>
        <th>Username</th><th>Email</th><th>Roles</th><th></th>
    </tr>
    </thead>
    <tbody>
@foreach (var user in Model)
{ 
    <tr>
        <td>@user.Username</td>
        <td>@user.Email</td>
        <td>
            @(user.Roles.Count > 0 ? user.Roles.Aggregate((current, next) => current + ", " + next) : "Got Nothin.")
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { userName = user.Username })
        </td>
    </tr>
}
    </tbody>
</table>
</ul>